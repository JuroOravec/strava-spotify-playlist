overwrite: true
generates:
  # Generate types from the operations (queries) we define in client
  src/plugins/apollo/types.ts:
    schema:
      - src/plugins/apollo/schema.json
    documents:
      - 'src/modules/**/composables/*.ts'
      - 'src/modules/**/fragments/*.ts'
    plugins:
      - typescript
      - typescript-operations
      - typescript-apollo-client-helpers
      - time
      - add:
          content:
            - '/* eslint-disable */'
            - '/* This file is autogenerated, see codegen.yml */'
    config:
      enumsAsTypes: true
      typesPrefix: Gql
      avoidOptionals:
        field: true
      namingConvention: keep
      withCompositionFunctions: false

  # Generate composables from the operations (queries) we define in client
  src/plugins/apollo/composables.ts:
    schema:
      - src/plugins/apollo/schema.json
    documents:
      - 'src/modules/**/composables/*.ts'
      - 'src/modules/**/fragments/*.ts'
    plugins:
      - typescript
      - typescript-operations
      - typescript-vue-apollo
      - time
      - add:
          content:
            - '/* eslint-disable */'
            - '/* This file is autogenerated, see codegen.yml */'
    config:
      noExport: true
      enumsAsTypes: true
      avoidOptionals:
        field: true
      namingConvention: keep
      withCompositionFunctions: true

  # Generate object of type-safe name of queries and mutations
  src/plugins/apollo/operations.ts:
    schema:
      - src/plugins/apollo/schema.json
    documents:
      - 'src/modules/**/composables/*.ts'
      - 'src/modules/**/fragments/*.ts'
    plugins:
      - named-operations-object
      - time
      - add:
          content:
            - '/* eslint-disable */'
            - '/* This file is autogenerated, see codegen.yml */'

  # Create mock data generators
  src/plugins/apollo/factories.ts:
    schema:
      - src/plugins/apollo/schema.json
    documents:
      - 'src/modules/**/composables/*.ts'
      - 'src/modules/**/fragments/*.ts'
    plugins:
      - typescript
      - typescript-operations
      - typescript-vue-apollo
      - "@homebound/graphql-typescript-factories"
      - "@homebound/graphql-typescript-response-factories"
  
      - add:
          content:
            - '/* eslint-disable */'
            - '/* This file is autogenerated, see codegen.yml */'
    config:
      noExport: true
      enumsAsTypes: true
      avoidOptionals:
        field: true
      namingConvention: keep
      withCompositionFunctions: false
